.. include:: links.ref

********
快速入门
********

本文档旨在指导用户搭建 T-TWR 硬件开发的软件环境。

概述
====

T-TWR 拥有以下硬件资源：

    * ESP32-S3-WROOM-1-N16R8
    * OLED 显示屏（128 * 64）
    * SA868 集成专业对讲机模块
    * TP4054 电池充电芯片
    * 18650电池座
    * 编码器按键

准备工作
========

硬件：

* T-TWR
* 烧录器
* 电脑（Windows、Linux 或 Mac OS）

软件：

* arduino
* platformio

安装准备
========

请先完成工具的安装，具体步骤见下：

+-------------------+-------------------+
| |arduino-logo|    | |platformio-logo| |
+-------------------+-------------------+
| |arduino-ide|_    | |platformio-ide|_ |
+-------------------+-------------------+

.. |arduino-logo| image:: ../_static/arduino-logo.png
    :target: arduino-ide_

.. |platformio-logo| image:: ../_static/platformio-logo.png
    :target: platformio-ide_

.. _安装依赖库:

安装依赖
=========

T-TWR 支持以下版本的arduino-esp32:

* |arduino-esp32|_

T-TWR 需要以下依赖库支持，用户可以用过库管理安装。

* |RotaryEncoder|_
* |OneButton|_
* |U8g2_Arduino|_
* |ArduinoJson|_

.. warning::

    如果出现编译错误，请先检查以上依赖是否一致。

例程
========

* :ref:`AT Debug <at-debug>`
* :ref:`Walkie Talkie <walkie-talkie>`

管脚布局
========

=============== ==== ===================================================================================================
Name            Pin  Note
--------------- ---- ---------------------------------------------------------------------------------------------------
SA868_TX_PIN    47   Serial transmit data pin
--------------- ---- ---------------------------------------------------------------------------------------------------
SA868_RX_PIN    48   Serial receive data pin
--------------- ---- ---------------------------------------------------------------------------------------------------
SA868_PTT_PIN   41   SA868 Transmitting/receiving control, "0" force the module to enter TX state; and "1" to Rx state.
--------------- ---- ---------------------------------------------------------------------------------------------------
SA868_PD_PIN    40   Power Down control, "0" for power down mode; "1" for the normal work
--------------- ---- ---------------------------------------------------------------------------------------------------
SA868_RF_PIN    39   high/low output power control; Leave open for high output power, low level to low output power.
--------------- ---- ---------------------------------------------------------------------------------------------------
BUTTON_PTT_PIN  38   发射/接收按钮
--------------- ---- ---------------------------------------------------------------------------------------------------
BUTTON_UP_PIN   3    音量键
--------------- ---- ---------------------------------------------------------------------------------------------------
BUTTON_DOWN_PIN 0    音量键
--------------- ---- ---------------------------------------------------------------------------------------------------
ENCODER_A_PIN   9    编码器 Pin1
--------------- ---- ---------------------------------------------------------------------------------------------------
ENCODER_B_PIN   5    编码器 Pin2
--------------- ---- ---------------------------------------------------------------------------------------------------
ENCODER_OK_PIN  7    编码器确认按键
--------------- ---- ---------------------------------------------------------------------------------------------------
BATTERY_ADC_PIN 6    电池电压检测
--------------- ---- ---------------------------------------------------------------------------------------------------
OLED_POWER_PIN  21   OLED屏幕电源控制
--------------- ---- ---------------------------------------------------------------------------------------------------
LED_PIN         1    用户自定义指示灯
=============== ==== ===================================================================================================

.. include:: datasheet.inc

Troubleshooting
================

如果出现故障，请先查阅 :ref:`故障排查 <troubleshooting>`。如果 :ref:`故障排查 <troubleshooting>` 不存在你遇到的问题，请通过 |github-issue|_ 获得技术支持。
